<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Zelda's Cookbook</title>

    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #536f50;
        }

        h1 {
            font-size: 1.5rem;
            color: #fdffe0;
        }

        .pot {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            border: .1rem solid #fdffe0;
        }

        .countertop {
            display: flex;
            flex-wrap: wrap;
            justify-content:space-evenly;
            border: .1rem solid #fdffe0;
        }

        .item {
            flex: 0 0 80px;
            border: .1rem solid red;
            margin: 5px;
            width: 80px;
            height: 80px;
        }

        .item-img {
            object-fit:cover;
            max-width: 100%;
            max-height: 100%;
        }

        .empty, .result, .filled {
            border: .1rem solid #fdffe0;
            width: 150px;
            height: 150px;
            margin: 10px;
            font-size: 7rem;
            text-align: center;
        }

        .ingredient {
            border: .1rem solid #fdffe0;
            width: 50px;
            height: 50px;
            margin: 10px;
            font-size: 2.5em;
            text-align: center;
            /* vertical-align: center; */
        }

        .filled {
            background-color: #86a5a9;
        }

        .result {
            font-size: 7rem;
            text-align: center;
            /* vertical-align: center; */
        }
    </style>
</head>
<body>
    <header>
        <h1>Zelda's Cookbook</h1>
    </header>
    <div class="pot">
        <div class="box empty"></div>
        <div class="box empty"></div>
        <div class="box empty"></div>
        <div class="box empty"></div>
        <div class="box empty"></div>
        <div class="result">0</div>
    </div>
    <div class="countertop">
        
    </div>

    <script>
        // Each ingredient contributes its bonus HP and/or time at most once per recipe
        const zeldaData = [ 
            { name : "Palm Fruit", type : "None", category : "Fruit", price : 4, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Apple", type : "None", category : "Fruit", price : 3, baseHP : 2, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Wildberry", type : "None", category : "Fruit", price : 3, baseHP : 2, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Hylian Shroom", type : "None", category : "Mushroom", price : 3, baseHP : 2, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Hyrule Herb", type : "None", category : "Vegetable", price : 3, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Raw Gourmet Meat", type : "None", category : "Meat", price : 35, baseHP : 12, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Raw Prime Meat", type : "None", category : "Meat", price : 15, baseHP : 6, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Raw Meat", type : "None", category : "Meat", price : 8, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Raw Whole Bird", type : "None", category : "Poultry", price : 35, baseHP : 12, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Raw Bird Thigh", type : "None", category : "Poultry", price : 15, baseHP : 6, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Raw Bird Drumstick", type : "None", category : "Poultry", price : 8, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Hyrule Bass", type : "None", category : "Fish", price : 6, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Sanke Carp", type : "None", category : "Fish", price : 20, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Hylian Rice", type : "None", category : "Spice", price : 3, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 30, critChance : 0, potency : 1 }, 
            { name : "Bird Egg", type : "None", category : "Egg", price : 3, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 60, critChance : .1, potency : 1 }, 
            { name : "Tabantha Wheat", type : "None", category : "Spice", price : 3, baseHP : 4, bonusHP : 0, baseTime : 30, bonusTime : 30, critChance : 0, potency : 1 }, 
            // Milk bonus applies only if the recipe contains no non-Milk ingredients 
            { name : "Fresh Milk", type : "None", category : "Milk", price : 3, baseHP : 2, bonusHP : 2, baseTime : 30, bonusTime : 50, critChance : 0, potency : 1 }, 
            // Nut bonus applies when cooked with at least one ingredient that is different from itself (combining both types of nut works, and gives both bonuses) 
            { name : "Acorn", type : "None", category : "Nut", price : 2, baseHP : 1, bonusHP : 2, baseTime : 30, bonusTime : 20, critChance : 0, potency : 1 }, 
            { name : "Chickaloo Tree Nut", type : "None", category : "Nut", price : 3, baseHP : 1, bonusHP : 2, baseTime : 30, bonusTime : 10, critChance : 0, potency : 1 }, 
            { name : "Cane Sugar", type : "None", category : "Spice", price : 3, baseHP : 0, bonusHP : 0, baseTime : 30, bonusTime :  50, critChance : .3, potency : 1 }, 
            { name : "Goat Butter", type : "None", category : "Spice", price : 3, baseHP : 0, bonusHP : 0, baseTime : 30, bonusTime :  50, critChance : .1, potency : 1 }, 
            { name : "Goron Spice", type : "None", category : "Spice", price : 4, baseHP : 0, bonusHP : 0, baseTime : 30, bonusTime : 60, critChance : .1, potency : 1 }, 
            { name : "Rock Salt", type : "None", category : "Spice", price : 2, baseHP : 0, bonusHP : 0, baseTime : 30, bonusTime : 30, critChance : 0, potency : 1 }, 
            { name : "Monster Extract", type : "None", category : "Spice", price : 3, baseHP : 0, bonusHP : 0, baseTime : 0, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Fairy", type : "None", category : "Fairy", price : 2, baseHP : 20, bonusHP : 0, baseTime : 30, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Silent Shroom", type : "Sneaky", category : "Mushroom", price : 3, baseHP : 2, bonusHP : 0, baseTime : 120, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Blue Nightshade", type : "Sneaky", category : "Vegetable", price : 4, baseHP : 0, bonusHP : 0, baseTime : 120, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Silent Princess", type : "Sneaky", category : "Vegetable", price : 10, baseHP : 4, bonusHP : 0, baseTime : 120, bonusTime : 0, critChance : 0, potency : 3 }, 
            { name : "Stealthfin Trout", type : "Sneaky", category : "Fish", price : 10, baseHP : 4, bonusHP : 0, baseTime : 120, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Sneaky River Snail", type : "Sneaky", category : "Seafood", price : 6, baseHP : 4, bonusHP : 0, baseTime : 120, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Sunset Firefly", type : "Sneaky", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 120, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Ironshroom", type : "Tough", category : "Mushroom", price : 5, baseHP : 2, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Fortified Pumpkin", type : "Tough", category : "Vegetable", price : 5, baseHP : 2, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Armoranth", type : "Tough", category : "Vegetable", price : 5, baseHP : 0, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Armored Carp", type : "Tough", category : "Fish", price : 10, baseHP : 4, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Armored Porgy", type : "Tough", category : "Fish", price : 10, baseHP : 4, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 3 }, 
            { name : "Ironshell Crab", type : "Tough", category : "Seafood", price : 8, baseHP : 4, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Rugged Rhino Beetle", type : "Tough", category : "Critter", price : 4, baseHP : 0, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Mighty Bananas", type : "Mighty", category : "Fruit", price : 5, baseHP : 2, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Razorshroom", type : "Mighty", category : "Mushroom", price : 5, baseHP : 2, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Mighty Thistle", type : "Mighty", category : "Vegetable", price : 5, baseHP : 0, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Mighty Carp", type : "Mighty", category : "Fish", price : 10, baseHP : 4, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Mighty Porgy", type : "Mighty", category : "Fish", price : 10, baseHP : 4, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 3 }, 
            { name : "Razorclaw Crab", type : "Mighty", category : "Seafood", price : 8, baseHP : 4, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Bladed Rhino Beetle", type : "Mighty", category : "Critter", price : 4, baseHP : 0, bonusHP : 0, baseTime : 50, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Smotherwing Butterfly", type : "Fireproof", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Fireproof Lizard", type : "Fireproof", category : "Critter", price : 5, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Voltfruit", type : "Electro", category : "Fruit", price : 4, baseHP : 2, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Zapshroom", type : "Electro", category : "Mushroom", price : 4, baseHP : 2, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Electric Safflina", type : "Electro", category : "Vegetable", price : 3, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Voltfin Trout", type : "Electro", category : "Fish", price : 6, baseHP : 4, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 3 }, 
            { name : "Thunderwing Butterfly", type : "Electro", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Electric Darner", type : "Electro", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Hydromelon", type : "Chilly", category : "Fruit", price : 4, baseHP : 2, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Chillshroom", type : "Chilly", category : "Mushroom", price : 4, baseHP : 2, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Cool Safflina", type : "Chilly", category : "Vegetable", price : 3, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Chillfin Trout", type : "Chilly", category : "Fish", price : 6, baseHP : 4, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 3 }, 
            { name : "Winterwing Butterfly", type : "Chilly", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Cold Darner", type : "Chilly", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            /* Counterintuitively, Spicy Pepper is treated as a fruit in most recipes; the
                exceptions I have found are fruitcake, and any recipe that looks specifically
                for spicy pepper (pepper steak, pepper seafood, sauteed peppers 
            */
            { name : "Spicy Pepper", type : "Spicy", category : "Fruit", price : 3, baseHP : 2, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Sunshroom", type : "Spicy", category : "Mushroom", price : 4, baseHP : 2, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Warm Safflina", type : "Spicy", category : "Vegetable", price : 3, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Sizzlefin Trout", type : "Spicy", category : "Fish", price : 6, baseHP : 4, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 3 }, 
            { name : "Summerwing Butterfly", type : "Spicy", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Warm Darner", type : "Spicy", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 150, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Fleet-Lotus Seeds", type : "Hasty", category : "Fruit", price : 5, baseHP : 2, bonusHP : 0, baseTime : 60, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Rushroom", type : "Hasty", category : "Mushroom", price : 3, baseHP : 2, bonusHP : 0, baseTime : 60, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Swift Carrot", type : "Hasty", category : "Vegetable", price : 4, baseHP : 2, bonusHP : 0, baseTime : 60, bonusTime : 0, critChance : 0, potency : 1 }, 
            { name : "Swift Violet", type : "Hasty", category : "Vegetable", price : 10, baseHP : 0, bonusHP : 0, baseTime : 60, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Hot-Footed Frog", type : "Hasty", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 60, bonusTime : 0, critChance : 0, potency : 2 }, 
            { name : "Hightail Lizard", type : "Hasty", category : "Critter", price : 2, baseHP : 0, bonusHP : 0, baseTime : 60, bonusTime : 0, critChance : 0, potency : 1 },
        ];

        const counterTop = document.querySelector(".countertop");
        zeldaData.sort((a,b) => a.name > b.name ? 1 : -1)
                 .map(item => {
                    const markup = `
                        <div class="item" data-item="${item.name}">
                            <img class="item-img" src="img/${item.name}.png" alt="${item.name}">
                        </div>
                    `;
                    counterTop.innerHTML += markup;
                 });

        const potItems = document.querySelectorAll(".box");
        const counterItems = document.querySelectorAll(".item");
        const result = document.querySelector(".result");

        const potArray = [];
        for (const potItem of potItems) {
            potItem.addEventListener("dblclick", doubleClicked);
            potArray.push(potItem);
        }
        for (const counterItem of counterItems) counterItem.addEventListener("click", clicked);

        function clicked() {
            for (const potItem of potArray) {
                if (potItem.classList.contains("empty")) {
                    potItem.classList.replace("empty", "filled");
                    potItem.setAttribute("data-item", this.getAttribute("data-item"));
                    const item = zeldaData.find((item) => { return item.name === this.getAttribute("data-item")});
                    potItem.innerHTML = `<img class="item-img" src="img/${item.name}.png" alt="${item.name}">`
                    console.log(item.price);
                    break;
                }
            };
            cook(); 
        }

        function doubleClicked() {
            if (this.classList.contains("filled")) {
                this.classList.replace("filled", "empty");
                this.removeAttribute("data-item");
                this.innerHTML = "";
            }
            cook();
        }

        function cook() {
            const ingredients = document.querySelectorAll('.filled');
            let baseHP = 0;
            let bonusHP = 0;
            for (let i = 0; i < ingredients.length; i++) {
                const item = zeldaData.find((item) => { return item.name === ingredients[i].getAttribute("data-item") });
                baseHP += item.baseHP;
                bonusHP += item.bonusHP;
            }
            result.innerHTML = (2*baseHP) + bonusHP;
        }
    </script>
</body>
</html>